<head>
  <title>Trade Wars - alpha</title>
</head>

<body>
	<h1>Welcome to Meteor!</h1>
	{{> hello}}
	{{> loginButtons}}

	{{#if currentUser}}
		<p>
			Group: {{userInfo}}
		</p>
		<p>
			User ID: {{uID}}
		</p>
		<p>
			{{> stockInfo}}	
		</p>
		<p>
			{{> trade}}
		</p>
	{{/if}}
</body>

<template name = "trade">
	<form class = "trade">
		Other Users: 
		<select name = "Recipient">
			{{#each otherUsers}}
				<option value="{{_id}}">{{_id}}</option> 
			{{/each}}
		</select><br />

		What do you want to give?
		<select name = "Giving-Resource">
			{{#each givingResources}}
				<option value="{{name}}">{{name}}: {{stock}}</option>
			{{/each}}
		</select>
		And how much?
		<input type="number" name="giveAmount" /><br />

		What do you want to receive?
		<select name = "Taking-Resource">
			{{#each givingResources}}
				<option value="{{name}}">{{name}}: {{stock}}</option> 
			{{/each}}
		</select>
		And how much?
		<input type="number" name="requestAmount" /><br />

		<input type = "submit" />
	</form>
</template>

<template name = "stockInfo">
	<!-- {{prices}} -->
	<table border = "1" padding = "10px">
	<tr> 
		<td>Resource</td>
		<td>In Stock</td>
		<td>Price</td>
	</tr>
		{{#each resources}}
		<tr>
			<td>{{name}}</td>
			<td>{{stock}}</td>
			<td>{{price}}</td>
		</tr>
		{{/each}}
	</table>
</template>

<template name="hello">
	<button>Click Me</button>
	<p>You've pressed the button {{counter}} times.</p>
</template>
